apply plugin: "java"

task run(type: JavaExec) {
	classpath = sourceSets.main.runtimeClasspath
	
	main = "com.clipboard.sender.Main"
	
	if ( ! project.hasProperty("appArgs")) {
		throw new InvalidUserDataException("-PappArgs=\"<args>\" is mandatory!!!")
	} else {
		args(appArgs.split(" "))
	}
}

run.dependsOn clean, build
build.mustRunAfter clean

defaultTasks "run"

